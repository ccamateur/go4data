(this.webpackJsonpworkflow=this.webpackJsonpworkflow||[]).push([[0],{19:function(e,s,t){var r=t(25),n=r,a=Function("return this")(),i=t(26);n.object.extend(proto,i),n.exportSymbol("proto.users.AckResponse",null,a),n.exportSymbol("proto.users.BaseRequest",null,a),n.exportSymbol("proto.users.UserRequest",null,a),n.exportSymbol("proto.users.UserResponse",null,a),proto.users.UserRequest=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.users.UserRequest,r.Message),n.DEBUG&&!COMPILED&&(proto.users.UserRequest.displayName="proto.users.UserRequest"),proto.users.BaseRequest=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.users.BaseRequest,r.Message),n.DEBUG&&!COMPILED&&(proto.users.BaseRequest.displayName="proto.users.BaseRequest"),proto.users.UserResponse=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.users.UserResponse,r.Message),n.DEBUG&&!COMPILED&&(proto.users.UserResponse.displayName="proto.users.UserResponse"),proto.users.AckResponse=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.users.AckResponse,r.Message),n.DEBUG&&!COMPILED&&(proto.users.AckResponse.displayName="proto.users.AckResponse"),r.Message.GENERATE_TO_OBJECT&&(proto.users.UserRequest.prototype.toObject=function(e){return proto.users.UserRequest.toObject(e,this)},proto.users.UserRequest.toObject=function(e,s){var t={id:r.Message.getFieldWithDefault(s,1,0)};return e&&(t.$jspbMessageInstance=s),t}),proto.users.UserRequest.deserializeBinary=function(e){var s=new r.BinaryReader(e),t=new proto.users.UserRequest;return proto.users.UserRequest.deserializeBinaryFromReader(t,s)},proto.users.UserRequest.deserializeBinaryFromReader=function(e,s){for(;s.nextField()&&!s.isEndGroup();){switch(s.getFieldNumber()){case 1:var t=s.readInt64();e.setId(t);break;default:s.skipField()}}return e},proto.users.UserRequest.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.users.UserRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.users.UserRequest.serializeBinaryToWriter=function(e,s){var t;0!==(t=e.getId())&&s.writeInt64(1,t)},proto.users.UserRequest.prototype.getId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.users.UserRequest.prototype.setId=function(e){return r.Message.setProto3IntField(this,1,e)},r.Message.GENERATE_TO_OBJECT&&(proto.users.BaseRequest.prototype.toObject=function(e){return proto.users.BaseRequest.toObject(e,this)},proto.users.BaseRequest.toObject=function(e,s){var t={name:r.Message.getFieldWithDefault(s,1,""),email:r.Message.getFieldWithDefault(s,2,""),password:r.Message.getFieldWithDefault(s,3,"")};return e&&(t.$jspbMessageInstance=s),t}),proto.users.BaseRequest.deserializeBinary=function(e){var s=new r.BinaryReader(e),t=new proto.users.BaseRequest;return proto.users.BaseRequest.deserializeBinaryFromReader(t,s)},proto.users.BaseRequest.deserializeBinaryFromReader=function(e,s){for(;s.nextField()&&!s.isEndGroup();){switch(s.getFieldNumber()){case 1:var t=s.readString();e.setName(t);break;case 2:t=s.readString();e.setEmail(t);break;case 3:t=s.readString();e.setPassword(t);break;default:s.skipField()}}return e},proto.users.BaseRequest.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.users.BaseRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.users.BaseRequest.serializeBinaryToWriter=function(e,s){var t=void 0;(t=e.getName()).length>0&&s.writeString(1,t),(t=e.getEmail()).length>0&&s.writeString(2,t),(t=e.getPassword()).length>0&&s.writeString(3,t)},proto.users.BaseRequest.prototype.getName=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.users.BaseRequest.prototype.setName=function(e){return r.Message.setProto3StringField(this,1,e)},proto.users.BaseRequest.prototype.getEmail=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.users.BaseRequest.prototype.setEmail=function(e){return r.Message.setProto3StringField(this,2,e)},proto.users.BaseRequest.prototype.getPassword=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.users.BaseRequest.prototype.setPassword=function(e){return r.Message.setProto3StringField(this,3,e)},r.Message.GENERATE_TO_OBJECT&&(proto.users.UserResponse.prototype.toObject=function(e){return proto.users.UserResponse.toObject(e,this)},proto.users.UserResponse.toObject=function(e,s){var t,n={name:r.Message.getFieldWithDefault(s,1,""),email:r.Message.getFieldWithDefault(s,2,""),password:r.Message.getFieldWithDefault(s,3,""),id:r.Message.getFieldWithDefault(s,4,0),createdat:(t=s.getCreatedat())&&i.Timestamp.toObject(e,t),token:r.Message.getFieldWithDefault(s,6,"")};return e&&(n.$jspbMessageInstance=s),n}),proto.users.UserResponse.deserializeBinary=function(e){var s=new r.BinaryReader(e),t=new proto.users.UserResponse;return proto.users.UserResponse.deserializeBinaryFromReader(t,s)},proto.users.UserResponse.deserializeBinaryFromReader=function(e,s){for(;s.nextField()&&!s.isEndGroup();){switch(s.getFieldNumber()){case 1:var t=s.readString();e.setName(t);break;case 2:t=s.readString();e.setEmail(t);break;case 3:t=s.readString();e.setPassword(t);break;case 4:t=s.readInt64();e.setId(t);break;case 5:t=new i.Timestamp;s.readMessage(t,i.Timestamp.deserializeBinaryFromReader),e.setCreatedat(t);break;case 6:t=s.readString();e.setToken(t);break;default:s.skipField()}}return e},proto.users.UserResponse.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.users.UserResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.users.UserResponse.serializeBinaryToWriter=function(e,s){var t=void 0;(t=e.getName()).length>0&&s.writeString(1,t),(t=e.getEmail()).length>0&&s.writeString(2,t),(t=e.getPassword()).length>0&&s.writeString(3,t),0!==(t=e.getId())&&s.writeInt64(4,t),null!=(t=e.getCreatedat())&&s.writeMessage(5,t,i.Timestamp.serializeBinaryToWriter),(t=e.getToken()).length>0&&s.writeString(6,t)},proto.users.UserResponse.prototype.getName=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.users.UserResponse.prototype.setName=function(e){return r.Message.setProto3StringField(this,1,e)},proto.users.UserResponse.prototype.getEmail=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.users.UserResponse.prototype.setEmail=function(e){return r.Message.setProto3StringField(this,2,e)},proto.users.UserResponse.prototype.getPassword=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.users.UserResponse.prototype.setPassword=function(e){return r.Message.setProto3StringField(this,3,e)},proto.users.UserResponse.prototype.getId=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.users.UserResponse.prototype.setId=function(e){return r.Message.setProto3IntField(this,4,e)},proto.users.UserResponse.prototype.getCreatedat=function(){return r.Message.getWrapperField(this,i.Timestamp,5)},proto.users.UserResponse.prototype.setCreatedat=function(e){return r.Message.setWrapperField(this,5,e)},proto.users.UserResponse.prototype.clearCreatedat=function(){return this.setCreatedat(void 0)},proto.users.UserResponse.prototype.hasCreatedat=function(){return null!=r.Message.getField(this,5)},proto.users.UserResponse.prototype.getToken=function(){return r.Message.getFieldWithDefault(this,6,"")},proto.users.UserResponse.prototype.setToken=function(e){return r.Message.setProto3StringField(this,6,e)},r.Message.GENERATE_TO_OBJECT&&(proto.users.AckResponse.prototype.toObject=function(e){return proto.users.AckResponse.toObject(e,this)},proto.users.AckResponse.toObject=function(e,s){var t={ok:r.Message.getBooleanFieldWithDefault(s,1,!1)};return e&&(t.$jspbMessageInstance=s),t}),proto.users.AckResponse.deserializeBinary=function(e){var s=new r.BinaryReader(e),t=new proto.users.AckResponse;return proto.users.AckResponse.deserializeBinaryFromReader(t,s)},proto.users.AckResponse.deserializeBinaryFromReader=function(e,s){for(;s.nextField()&&!s.isEndGroup();){switch(s.getFieldNumber()){case 1:var t=s.readBool();e.setOk(t);break;default:s.skipField()}}return e},proto.users.AckResponse.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.users.AckResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.users.AckResponse.serializeBinaryToWriter=function(e,s){var t;(t=e.getOk())&&s.writeBool(1,t)},proto.users.AckResponse.prototype.getOk=function(){return r.Message.getBooleanFieldWithDefault(this,1,!1)},proto.users.AckResponse.prototype.setOk=function(e){return r.Message.setProto3BooleanField(this,1,e)},n.object.extend(s,proto.users)},28:function(e,s,t){var r={};r.web=t(44);t(26);var n={};n.users=t(19),n.users.UserClient=function(e,s,t){t||(t={}),t.format="text",this.client_=new r.web.GrpcWebClientBase(t),this.hostname_=e},n.users.UserPromiseClient=function(e,s,t){t||(t={}),t.format="text",this.client_=new r.web.GrpcWebClientBase(t),this.hostname_=e};var a=new r.web.MethodDescriptor("/users.User/GetUser",r.web.MethodType.UNARY,n.users.UserRequest,n.users.UserResponse,(function(e){return e.serializeBinary()}),n.users.UserResponse.deserializeBinary);new r.web.AbstractClientBase.MethodInfo(n.users.UserResponse,(function(e){return e.serializeBinary()}),n.users.UserResponse.deserializeBinary);n.users.UserClient.prototype.getUser=function(e,s,t){return this.client_.rpcCall(this.hostname_+"/users.User/GetUser",e,s||{},a,t)},n.users.UserPromiseClient.prototype.getUser=function(e,s){return this.client_.unaryCall(this.hostname_+"/users.User/GetUser",e,s||{},a)};var i=new r.web.MethodDescriptor("/users.User/Login",r.web.MethodType.UNARY,n.users.BaseRequest,n.users.UserResponse,(function(e){return e.serializeBinary()}),n.users.UserResponse.deserializeBinary);new r.web.AbstractClientBase.MethodInfo(n.users.UserResponse,(function(e){return e.serializeBinary()}),n.users.UserResponse.deserializeBinary);n.users.UserClient.prototype.login=function(e,s,t){return this.client_.rpcCall(this.hostname_+"/users.User/Login",e,s||{},i,t)},n.users.UserPromiseClient.prototype.login=function(e,s){return this.client_.unaryCall(this.hostname_+"/users.User/Login",e,s||{},i)};var o=new r.web.MethodDescriptor("/users.User/CreateUser",r.web.MethodType.UNARY,n.users.BaseRequest,n.users.UserResponse,(function(e){return e.serializeBinary()}),n.users.UserResponse.deserializeBinary);new r.web.AbstractClientBase.MethodInfo(n.users.UserResponse,(function(e){return e.serializeBinary()}),n.users.UserResponse.deserializeBinary);n.users.UserClient.prototype.createUser=function(e,s,t){return this.client_.rpcCall(this.hostname_+"/users.User/CreateUser",e,s||{},o,t)},n.users.UserPromiseClient.prototype.createUser=function(e,s){return this.client_.unaryCall(this.hostname_+"/users.User/CreateUser",e,s||{},o)};var u=new r.web.MethodDescriptor("/users.User/DeleteUser",r.web.MethodType.UNARY,n.users.UserRequest,n.users.AckResponse,(function(e){return e.serializeBinary()}),n.users.AckResponse.deserializeBinary);new r.web.AbstractClientBase.MethodInfo(n.users.AckResponse,(function(e){return e.serializeBinary()}),n.users.AckResponse.deserializeBinary);n.users.UserClient.prototype.deleteUser=function(e,s,t){return this.client_.rpcCall(this.hostname_+"/users.User/DeleteUser",e,s||{},u,t)},n.users.UserPromiseClient.prototype.deleteUser=function(e,s){return this.client_.unaryCall(this.hostname_+"/users.User/DeleteUser",e,s||{},u)},e.exports=n.users},37:function(e,s,t){},38:function(e,s,t){},49:function(e,s,t){"use strict";t.r(s);var r=t(16),n=t(1),a=t(0),i=t.n(a),o=t(15),u=t.n(o),l=(t(37),t(31)),c=t(11),p=t(12),d=t(9),h=t(14),g=t(13),b=(t(38),t(10)),m=t(2),j=(t(39),t(19)),f=new(t(28).UserClient)("https://localhost:8180");var O=t(18),R=function(e){Object(h.a)(t,e);var s=Object(g.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=s.call(this,e)).state={user:JSON.parse(localStorage.getItem("user"))},r}return Object(p.a)(t,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:["Dashboard: Hello ",this.state.user.name]})})}}]),t}(a.Component),y=t(17),U=t.p+"static/media/logo.63949ad1.svg",v=function(e){Object(h.a)(t,e);var s=Object(g.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=s.call(this,e)).state={username:"",password:"",email:""},r.handleSubmit=r.handleSubmit.bind(Object(d.a)(r)),r.handleInputChange=r.handleInputChange.bind(Object(d.a)(r)),r}return Object(p.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),function(e,s){var t=new j.BaseRequest;e||s({message:"Cannot use a empty user in signup"}),t.setName(e.name),t.setEmail(e.email),t.setPassword(e.password),f.createUser(t,{},s)}({name:this.state.username,password:this.state.password,email:this.state.email},this.props.assignUser)}},{key:"handleInputChange",value:function(e){var s=e.target,t=s.value,r=s.name;this.setState(Object(y.a)({},r,t))}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"Authenticate",children:[Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("a",{class:"navbar-brand",href:"/authenticate/sign-in",children:[Object(n.jsx)("img",{src:U,class:"navbar-logo",alt:"logo"}),Object(n.jsx)(b.b,{className:"navbar-brand",to:"/authenticate/sign-in",children:"Workflow"})]}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:Object(n.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(b.b,{className:"nav-link",to:"/authenticate/sign-in",children:"Login"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(b.b,{className:"nav-link",to:"/authenticate/sign-up",children:"Sign up"})})]})})]})}),Object(n.jsx)("div",{className:"auth-wrapper",children:Object(n.jsx)("div",{className:"auth-inner",children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("h3",{children:"Sign Up"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",className:"form-control",value:this.state.username,onChange:this.handleInputChange,placeholder:"Username"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{type:"email",name:"email",className:"form-control",value:this.state.email,onChange:this.handleInputChange,placeholder:"Enter email"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",className:"form-control",value:this.state.password,onChange:this.handleInputChange,placeholder:"Enter password"})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Sign Up"}),Object(n.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(n.jsx)("a",{href:"/sign-in",children:"sign in?"})]})]})})})]})})}}]),t}(a.Component),w=function(e){Object(h.a)(t,e);var s=Object(g.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=s.call(this,e)).state={name:"",password:""},r.handleSubmit=r.handleSubmit.bind(Object(d.a)(r)),r.handleInputChange=r.handleInputChange.bind(Object(d.a)(r)),r}return Object(p.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),function(e,s){var t=new j.BaseRequest;e||s({message:"Cannot use a empty user in login"}),t.setName(e.name),t.setPassword(e.password),f.login(t,{},s)}({name:this.state.name,password:this.state.password},this.props.assignUser)}},{key:"handleInputChange",value:function(e){var s=e.target,t=s.value,r=s.name;this.setState(Object(y.a)({},r,t))}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"Authenticate",children:[Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("a",{class:"navbar-brand",href:"/authenticate/sign-in",children:[Object(n.jsx)("img",{src:U,class:"navbar-logo",alt:"logo"}),Object(n.jsx)(b.b,{className:"navbar-brand",to:"/authenticate/sign-in",children:"Workflow"})]}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:Object(n.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(b.b,{className:"nav-link",to:"/authenticate/sign-in",children:"Login"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(b.b,{className:"nav-link",to:"/authenticate/sign-up",children:"Sign up"})})]})})]})}),Object(n.jsx)("div",{className:"auth-wrapper",children:Object(n.jsx)("div",{className:"auth-inner",children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("h3",{children:"Sign In"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",name:"name",className:"form-control",value:this.state.name,onChange:this.handleInputChange,placeholder:"Username"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",className:"form-control",value:this.state.password,onChange:this.handleInputChange,placeholder:"Enter password"})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Login"})]})})})]})})}}]),t}(a.Component),B=function(e){Object(h.a)(t,e);var s=Object(g.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=s.call(this,e)).state={user:null,triedLogins:0},r.assignUser=r.assignUser.bind(Object(d.a)(r)),r}return Object(p.a)(t,[{key:"componentDidMount",value:function(){!function(e){var s=JSON.parse(localStorage.getItem("user")),t=new j.UserRequest;if(null!==s){t.setId(s.id);var r={"x-user-auth-token":s.token,"x-user-auth-id":s.id};f.getUser(t,r,e)}}(this.assignUser)}},{key:"assignUser",value:function(e,s){if(e&&""!==e.message){if("no such user was found"===e.message&&0===this.state.triedLogins)return void this.setState({triedLogins:1});this.props.alert.show(e.message)}else this.state.user&&this.setState({user:null}),console.log("Im inside this cool state now, ",s),localStorage.setItem("user",JSON.stringify(s.toObject())),this.setState({user:s.toObject()})}},{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(b.a,{children:[this.state.user?Object(n.jsx)(m.a,{to:"/dashboard"}):null,Object(n.jsxs)(m.d,{children:[Object(n.jsx)(x,{path:"/dashboard",user:this.state.user,component:R}),Object(n.jsx)(m.b,{path:"/authenticate/sign-in",exact:!0,render:function(s){return Object(n.jsx)(w,{assignUser:e.assignUser})}}),Object(n.jsx)(m.b,{path:"/authenticate/sign-up",exact:!0,render:function(s){return Object(n.jsx)(v,{assignUser:e.assignUser})}}),Object(n.jsx)(m.b,{path:"*",render:function(s){return Object(n.jsx)(w,{assignUser:e.assignUser})}})]})]})})}}]),t}(a.Component),x=function(e){var s=e.component,t=e.user,a=e.path,i=Object(l.a)(e,["component","user","path"]);return Object(n.jsx)(m.b,Object(r.a)(Object(r.a)({path:a},i),{},{render:function(e){return t?Object(n.jsx)(s,Object(r.a)({},e)):Object(n.jsx)(m.a,{to:{pathname:"/authenticate/sign-in",state:{prevLocation:a,error:"You need to login first!"}}})}}))},C=Object(O.d)()(B),k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,52)).then((function(s){var t=s.getCLS,r=s.getFID,n=s.getFCP,a=s.getLCP,i=s.getTTFB;t(e),r(e),n(e),a(e),i(e)}))},M=t(30),N={position:O.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:O.c.SCALE};u.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(O.a,Object(r.a)(Object(r.a)({template:M.a},N),{},{children:Object(n.jsx)(C,{})}))}),document.getElementById("root")),k()}},[[49,1,2]]]);
//# sourceMappingURL=main.7fd0b811.chunk.js.map